<!-- <mat-nav-list fxLayout="column" fxLayoutAlign="space-between stretch" style="padding-top: 20px;">
  <perfect-scrollbar>
    <mat-nav-list>
      <span *ngFor="let menu of sideMenuList">
        <span *ngIf="menu.isVisible | async">
         
          <span
            *ngIf="menu.subItems && menu.subItems.length > 0; else menuItem"
          >
            <mat-accordion>
              <mat-expansion-panel class="expansion-panel">
                <mat-expansion-panel-header
                  class="mat-expansion-panel-header-custom"
                >
                  <mat-panel-title style="height: 48px;">
                    <div
                      fxLayout="row"
                      fxLayoutAlign="space-between center"
                      class="mat-panel-title-custom"
                    >
                      <mat-icon style="padding-right: 10px;">{{
                        menu.icon
                      }}</mat-icon>
                      <span *ngIf="menu.badge != 0; else noNotification">
                        <span
                          matBadge="{{ menu.badge }}"
                          matBadgeOverlap="false"
                          matBadgeColor="accent"
                          >{{ menu.name }}</span
                        >
                      </span>
                      <ng-template #noNotification>
                        {{ menu.name }}
                      </ng-template>
                    </div>
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <span *ngFor="let subItem of menu.subItems">
                  <span *ngIf="subItem.isVisible?.value">
                  <mat-list-item
                    routerLink="/{{ subItem.url }}"
                    class="sidenav-child-item"
                    [ngClass]="{ 'active-menu': isModuleSelected(subItem) }"
                  >
                    <div fxLayout="row" fxLayoutAlign="space-between center">
                      <div style="font-size: 14px;">
                        <span *ngIf="subItem.badge != 0; else noNotification">
                          <span
                            matBadge="{{ subItem.badge }}"
                            matBadgeOverlap="false"
                            matBadgeColor="accent"
                            >{{ subItem.name }}</span
                          >
                        </span>
                        <ng-template #noNotification>
                          {{ subItem.name }}
                        </ng-template>
                      </div>
                    </div>
                  </mat-list-item>
                </span>
                </span>
              </mat-expansion-panel>
            </mat-accordion>
          </span>

          <ng-template #menuItem>
            <mat-list-item
              routerLink="/{{ menu.url }}"
              class="sidenav-item"
              [ngClass]="{ 'active-menu': isModuleSelected(menu) }"
            >
              <div fxLayout="row" fxLayoutAlign="space-between center">
                <mat-icon style="padding-right: 10px;">{{
                  menu.icon
                }}</mat-icon>
                <span *ngIf="menu.badge != 0; else noNotification">
                  <span
                    matBadge="{{ menu.badge }}"
                    matBadgeOverlap="false"
                    matBadgeColor="accent"
                    >{{ menu.name }}</span
                  >
                </span>
                <ng-template #noNotification>
                  {{ menu.name }}
                </ng-template>
              </div>
            </mat-list-item>
          </ng-template>
        </span>
      </span>
    </mat-nav-list>
  </perfect-scrollbar>
  <div fxLayout="row" fxLayoutAlign="space-between center" class="user-profile">
    <div class="user-profile__text">{{ userName }}</div>
    <mat-icon class="user-profile__icon" (click)="logout()"
      >power_settings_new</mat-icon
    >
  </div>
</mat-nav-list> -->




<div fxLayout="row" >
  <ng-container *ngFor="let menu of sideMenuList">
    <div *ngIf="!menu.subItems; else child">
      <div *ngIf="menu.isVisible | async">
        <div [ngClass]="{ 'active-menu': isModuleSelected(menu) }" style="margin-right: 10px; margin-left: 10px;">
          <a
            mat-button
            routerLink="/{{ menu.url }}"
            *ngIf="!menu.subItems"
            class="menuItem"
          >
            {{ menu.name }}
          </a>
        </div>
      </div>
    </div>
    <ng-template #child>
      <div>
        <button
          mat-button
          *ngIf="menu.subItems"
          [matMenuTriggerFor]="menulevel1" style="color: white;"
        >
          {{ menu.name }}
          <mat-icon>arrow_drop_down</mat-icon>
        </button>
        <mat-menu #menulevel1="matMenu">
          <ng-container *ngFor="let subItem of menu.subItems">
            <a mat-menu-item routerLink="/{{ subItem.url }}">{{
              subItem.name
            }}</a>
          </ng-container>
        </mat-menu>
      </div>
    </ng-template>
  </ng-container>
</div>

